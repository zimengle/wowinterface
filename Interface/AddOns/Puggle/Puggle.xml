<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
C:\Projects\WoW\Bin\Interface\FrameXML\UI.xsd">
	<Script file="Puggle.lua"/>
	<!-- Main Frame	-->
	<Frame
       name="myTabContainerFrame"
       toplevel="true"
       frameStrata="DIALOG"
       movable="true"
       enableMouse="true"
       hidden="true"
       parent="UIParent">
       <Size>
           <AbsDimension x="700" y="500"/>
       </Size>
       <Anchors>
           <Anchor point="CENTER">
               <Offset><AbsDimension x="0" y="50"/></Offset>
           </Anchor>
       </Anchors>
       <Backdrop
           bgFile="Interface\DialogFrame\UI-DialogBox-Background"
           edgeFile="Interface\DialogFrame\UI-DialogBox-Border"
           tile="true">
           <BackgroundInsets>
               <AbsInset left="11" right="12" top="12" bottom="11"/>
           </BackgroundInsets>
           <TileSize>
               <AbsValue val="32"/>
           </TileSize>
           <EdgeSize>
               <AbsValue val="32"/>
           </EdgeSize>
       </Backdrop>
       <Layers>
           <Layer level="ARTWORK">
               <Texture name="myFrameHeader" file="Interface\DialogFrame\UI-DialogBox-Header">
                   <Size>
                       <AbsDimension x="356" y="74"/>
                   </Size>
                   <Anchors>
                       <Anchor point="TOP">
                           <Offset>
                               <AbsDimension x="0" y="16"/>
                           </Offset>
                       </Anchor>
                   </Anchors>
               </Texture>
               <FontString inherits="GameFontNormal" text="Puggle" name="maintitle">
                   <Anchors>
                       <Anchor point="TOP" relativeTo="myFrameHeader">
                           <Offset>
                               <AbsDimension x="0" y="-17"/>
                           </Offset>
                       </Anchor>
                   </Anchors>
               </FontString>
           </Layer>
       </Layers>
       <Frames>
			<Button name="$parent_closeButton" inherits="UIPanelCloseButton">
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-4" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
               <Scripts>
                   <OnClick>
						Puggle_MinimapButton_OnClick()
					</OnClick>
               </Scripts>
			</Button>

		   
           <Frame name="myTabPage1" hidden="false">
               <Anchors>
                   <Anchor point="TOPLEFT"/>
                   <Anchor point="BOTTOMRIGHT"/>
               </Anchors>
               <Layers>
                   <Layer level="ARTWORK">
						<FontString name="$parent_synopsis" inherits="GameFontNormal" text="个玩家对下面的副本表示了兴趣:">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-40"/></Offset></Anchor></Anchors>
							<Color a="1" r="1" g="1" b="1" />
						</FontString>				   
                       <FontString name="$parent_nobody" inherits="GameFontNormal" text="There are currently no player registered to any dungeon">
                           <Anchors>
                               <Anchor point="CENTER" relativeTo="$parent"></Anchor>
                           </Anchors>
                       </FontString>
                   </Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="Puggle_ScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<ScrollChild >
							<Frame name="Puggle_ScrollChildFrame">
								<Size><AbsDimension x="676" y="1"/></Size>
							</Frame>
						</ScrollChild>
						<Size><AbsDimension x="676" y="420"/></Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
								<Offset><AbsDimension x="-33" y="-65"/></Offset>
							</Anchor>
						</Anchors>

						<Scripts>
							<OnVerticalScroll>
							</OnVerticalScroll>
						</Scripts>				
					</ScrollFrame>
				</Frames> 
			</Frame>

			
           <Frame name="myTabPage2" hidden="true">
               <Anchors>
                   <Anchor point="TOPLEFT"/>
                   <Anchor point="BOTTOMRIGHT"/>
               </Anchors>
               <Layers>
                   <Layer level="ARTWORK">
						<FontString inherits="GameFontNormal" text="设置:">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-40"/></Offset></Anchor></Anchors>
							<Color a="1" r="1" g="1" b="1" />
						</FontString>				   
						<FontString name="$parent_credits" inherits="GameFontNormal" text="_______________________________________________">
                           <Anchors><Anchor point="CENTER" relativeTo="$parent"><Offset><AbsDimension x="0" y="15"/></Offset></Anchor></Anchors>
						   	<Color a="1" r="1" g="1" b="1" />
						</FontString>
						
						<FontString name="$parent_note" inherits="GameFontNormal" text="">
                           <Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="90" y="-260"/></Offset></Anchor></Anchors>
						   	<Color a="1" r="1" g="1" b="1" />
						</FontString>
						
						<FontString name="$parent_count" inherits="GameFontNormal" text="">
                           <Anchors><Anchor point="CENTER" relativeTo="$parent"><Offset><AbsDimension x="0" y="-135"/></Offset></Anchor></Anchors>
						   	<Color a="1" r="1" g="1" b="1" />
						</FontString>

						<FontString name="$parent_credits" inherits="GameFontNormal" text="Puggle by Cixi@Remulos">
                           <Anchors><Anchor point="CENTER" relativeTo="$parent"><Offset><AbsDimension x="0" y="-160"/></Offset></Anchor></Anchors>
                       </FontString>
						<FontString name="$parent_version" inherits="GameFontNormal" text="Version 1.0">
                           <Anchors><Anchor point="CENTER" relativeTo="$parent"><Offset><AbsDimension x="0" y="-175"/></Offset></Anchor></Anchors>
							<Color a="1" r="1" g="1" b="1" />
                       </FontString>
						<FontString inherits="GameFontNormal" text="自动删除空闲的组队请求 (秒):">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="390" y="-162"/></Offset></Anchor></Anchors>
							<Color a="1" r="1" g="1" b="1" />
						</FontString>				   
					   
                   </Layer>
				</Layers>
				
				<Frames>
					<CheckButton name="$parent_showMinimapButton" 		parentkey="MyCheckButton" text="显示小地图按钮" 			inherits="UICheckButtonTemplate">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="385" y="-62" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Puggle_showMinimapButton = self:GetChecked();
								if Puggle_showMinimapButton then Puggle_MinimapButton:Show() else Puggle_MinimapButton:Hide() end
							</OnClick>
						</Scripts>
					</CheckButton>

					<CheckButton name="$parent_sortLatestFirst"	parentkey="MyCheckButton" text="把最新的请求放在最上面" 			inherits="UICheckButtonTemplate" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="385" y="-92" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Puggle_sortLatestFirst = self:GetChecked();
								Puggle_UpdateList()
							</OnClick>
						</Scripts>						
					</CheckButton>

<!--					<CheckButton name="$parent_autoWho"	parentkey="MyCheckButton" text="Run who automatically on new requests" 			inherits="UICheckButtonTemplate" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="385" y="-122" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Puggle_autoWho = self:GetChecked();
							</OnClick>
						</Scripts>						
					</CheckButton>
-->					
					<CheckButton name="$parent_showMessageOnNewRequest"	parentkey="MyCheckButton" text="S聊天通知显示新组队请求" 			inherits="UICheckButtonTemplate" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="35" y="-62" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Puggle_showMessageOnNewRequest = self:GetChecked();
							</OnClick>
						</Scripts>						
					</CheckButton>
					
					<CheckButton name="$parent_playSoundOnNewRequest"	parentkey="MyCheckButton" text="根据新的组队请求播放通知声音" 			inherits="UICheckButtonTemplate" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="35" y="-92" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								--Puggle_playSoundOnNewRequest = self:GetChecked();
								Puggle_ToggleSound()
							</OnClick>
						</Scripts>						
					</CheckButton>
					
					<CheckButton name="$parent_showLevelColorCoding"	parentkey="MyCheckButton" text="高等级副本显示为红色" 			inherits="UICheckButtonTemplate" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="35" y="-122" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Puggle_showLevelColorCoding = self:GetChecked();
								Puggle_UpdateList()
							</OnClick>
						</Scripts>						
					</CheckButton>

					<CheckButton name="$parent_showOnlyRelevant"	parentkey="MyCheckButton" text="只显示等级合适的副本" 			inherits="UICheckButtonTemplate" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="35" y="-152" /></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Puggle_showOnlyRelevant = self:GetChecked();
								Puggle_UpdateList()
							</OnClick>
						</Scripts>						
					</CheckButton>
					
					
					<EditBox name="$parent_idleTimeout" letters="4" autoFocus="false" multiLine="false" numeric="true">
						<Size x="40" y="48" />
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="635" y="-145" /></Anchor></Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
									<Size x="20" y="45" />
									<Anchors><Anchor point="TOPLEFT"><Offset x="-10" y="0" /></Anchor>
									</Anchors>
									<TexCoords left="0" right="0.1" top="0" bottom="1.0"/>
								</Texture>
								<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
									<Size x="10" y="45" />
									<Anchors><Anchor point="TOPLEFT"><Offset x="10" y="0" /></Anchor>
									</Anchors>
									<TexCoords left="0.1" right="0.9" top="0" bottom="1.0"/>
								</Texture>
								<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Right">
									<Size x="20" y="45" />
									<Anchors><Anchor point="TOPRIGHT"><Offset x="0" y="0" /></Anchor></Anchors>
									<TexCoords left="0.9" right="1" top="0" bottom="1.0"/>
								</Texture>
								
							</Layer>
						</Layers>

						<Scripts>
							<OnEditFocusLost>
								if (myTabPage2_idleTimeout:GetText() == nil) then 
									Puggle_idleTimeout = idleTimeout
								else 
									if (myTabPage2_idleTimeout:GetText() == "") then 
										Puggle_idleTimeout = 300
										print("Missing value for Puggle idle timeout. Using default of 300")
									else
										if tonumber(myTabPage2_idleTimeout:GetText()) ~= nil then
											Puggle_idleTimeout = myTabPage2_idleTimeout:GetText()
											print("Puggle idle timeout set to "..Puggle_idleTimeout)
										else 
											Puggle_idleTimeout = 300
											print("Incorrect Puggle idle timeout. Using default of 300")
										end
									end
								end
							</OnEditFocusLost>
						</Scripts>
						<FontString inherits="ChatFontNormal" >
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="6" y="-5" /></Anchor></Anchors>
						</FontString>
					</EditBox>
			

					<Button name="$parent_editTags" inherits="OptionsButtonTemplate" text="关键字设置">
						<Size><AbsDimension x="200" y="25" /></Size>
						<Anchors><Anchor point="CENTER" relativeTo="$parent"><Offset x="0" y="40" /></Anchor></Anchors>
						<Scripts>
							<OnClick> 
								myTabPage2:Hide();
								myTabPage2Tags:Show();		
	
							</OnClick>
						</Scripts>
					</Button>

			
			
					<Button name="logoIcon">
						<Size><AbsDimension x="30" y="30"/></Size>
						<Anchors><Anchor point="CENTER" relativeTo="$parent" ><Offset><AbsDimension x="0" y="-205"/></Offset></Anchor></Anchors>
						<NormalTexture file="Interface\Icons\spell_holy_prayerofspirit"/>
						<Scripts>
						</Scripts>
					</Button>

				</Frames> 
			</Frame>
			
			
			
			
           <Frame name="myTabPage2Tags" hidden="true">
               <Anchors>
                   <Anchor point="TOPLEFT"/>
                   <Anchor point="BOTTOMRIGHT"/>
               </Anchors>
               <Layers>
                   <Layer level="ARTWORK">
						<FontString inherits="GameFontNormal" text="请随意修改标题和搜索模式.">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-40"/></Offset></Anchor></Anchors>
							<Color a="1" r="1" g="1" b="1" />
						</FontString>				   
						<FontString inherits="GameFontNormal" text="记住模式标签只能是单个关键字，而且只能用于一个副本.">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-60"/></Offset></Anchor></Anchors>
							<Color a="1" r="0.7" g="0.7" b="0.7" />
						</FontString>				   
						<FontString inherits="GameFontNormal" text="例如, 想找AQ40和ST(神庙), 只需要在一个副本关键字框里输入 '神庙'.">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-76"/></Offset></Anchor></Anchors>
							<Color a="1" r="0.7" g="0.7" b="0.7" />
						</FontString>				   
						<FontString inherits="GameFontNormal" text="用空格或逗号分隔标记">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-92"/></Offset></Anchor></Anchors>
							<Color a="1" r="0.7" g="0.7" b="0.7" />
						</FontString>				   

						<FontString inherits="GameFontNormal" text="组队请求关键字:">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-120"/></Offset></Anchor></Anchors>
						</FontString>				   
						

						<FontString inherits="GameFontNormal" text="副本关键字(可自由添加):">
							<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="20" y="-190"/></Offset></Anchor></Anchors>
						</FontString>				   
					   
                   </Layer>
				</Layers>
				
				<Frames>
					<ScrollFrame name="Puggle_ScrollFrameEditTags" inherits="UIPanelScrollFrameTemplate">
						<ScrollChild >
							<Frame name="Puggle_ScrollChildFrameEditTags">
								<Size><AbsDimension x="676" y="1"/></Size>
							</Frame>
						</ScrollChild>
						<Size><AbsDimension x="676" y="275"/></Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
								<Offset><AbsDimension x="-33" y="-210"/></Offset>
							</Anchor>
						</Anchors>

						<Scripts>
							<OnVerticalScroll>
							</OnVerticalScroll>
						</Scripts>				
					</ScrollFrame>
				</Frames> 
			</Frame>			

			
			
			
			
           <Button name="$parentTab1" inherits="CharacterFrameTabButtonTemplate" id="1" text=" 所有队伍 ">
               <Anchors>
                   <Anchor point="CENTER" relativePoint="BOTTOMLEFT">
                       <Offset>
                           <AbsDimension x="60" y="-12"/>
                       </Offset>
                   </Anchor>
               </Anchors>
               <Scripts>
                   <OnClick>
                       PanelTemplates_SetTab(myTabContainerFrame, 1);
                       myTabPage1:Show();
					   myTabPage2:Hide();
					   myTabPage2Tags:Hide();
                   </OnClick>
               </Scripts>
           </Button>

           <Button name="$parentTab2" inherits="CharacterFrameTabButtonTemplate" id="2" text=" 设置 ">
               <Anchors>
                   <Anchor point="LEFT" relativeTo="$parentTab1" relativePoint="RIGHT">
                       <Offset>
                           <AbsDimension x="-16" y="0"/>
                       </Offset>
                   </Anchor>
               </Anchors>
               <Scripts>
                   <OnClick>
                       PanelTemplates_SetTab(myTabContainerFrame, 2);
                       myTabPage1:Hide();
					   myTabPage2:Show();
					   myTabPage2Tags:Hide();
                   </OnClick>
               </Scripts>
           </Button>
            
		</Frames>
		<Scripts>
			<OnLoad>
			    self.elapsed = 0;
			    PanelTemplates_SetNumTabs(myTabContainerFrame, 2);
				PanelTemplates_SetTab(myTabContainerFrame, 1);
				tinsert(UISpecialFrames, "myTabContainerFrame");
				Puggle_OnLoad()
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnShow>
			   PlaySound(SOUNDKIT.IG_MAINMENU_OPTION)
               PanelTemplates_SetTab(myTabContainerFrame, 1);
               myTabPage1:Show()
			   myTabPage2:Hide()
			</OnShow>
			<OnHide>
			   PlaySound(SOUNDKIT.GS_TITLE_OPTION_EXIT)
			</OnHide>
			<OnEvent>
				Puggle_OnEvent(event, ...);
			</OnEvent>
			<OnDragStart>self:StartMoving();</OnDragStart>
			<OnDragStop>self:StopMovingOrSizing();</OnDragStop>
			
       </Scripts>
	</Frame>
	
		
	
	
	<Frame name="Puggle_CheckboxTemplate" virtual="true" hidden="false">
		<Size><AbsDimension x="100" y="100"/></Size>
		<Anchors><Anchor point="TOPLEFT"/></Anchors>
		<Layers></Layers>
		<Frames>
			<CheckButton name="$parent_box" 		parentkey="MyCheckButton" text="blah" 			inherits="UICheckButtonTemplate"><Anchors><Anchor point="TOPLEFT" relativeTo="$parent"></Anchor></Anchors>
			</CheckButton>
		</Frames> 
	</Frame>
	
		
	<Frame name="Puggle_TitleTemplate" virtual="true" hidden="true">
		<Size><AbsDimension x="100" y="100"/></Size>
		<Anchors><Anchor point="TOPLEFT"/></Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<FontString name="$parent_title" inherits="GameFontNormal" text="This should be hidden">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"></Anchor></Anchors>
				</FontString>
				</Layer>
			</Layers>
		<Frames></Frames> 
	</Frame>
	
	<Frame name="Puggle_CharTemplate" virtual="true" hidden="true">
		<Size><AbsDimension x="660" y="15"/></Size>
		<Anchors><Anchor point="TOPLEFT"/></Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<FontString name="$parent_level" inherits="GameFontNormal" text="99">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"></Anchor></Anchors>
					<Color a="1" r="1" g="1" b="1" />
				</FontString>
				<FontString name="$parent_name" inherits="GameFontNormal" text="name">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="40" y=""/></Offset></Anchor></Anchors>
					<Color a="1" r="1" g="1" b="1" />
				</FontString>
				
				<FontString name="$parent_msg" inherits="GameFontNormal" text="LFG message">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="140" y=""/></Offset></Anchor></Anchors>
					<Color a="1" r="1" g="1" b="1" />
				</FontString>
				
				<FontString name="$parent_time" inherits="GameFontNormal" text="1m42">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset><AbsDimension x="480" y=""/></Offset></Anchor></Anchors>
					<Color a="1" r="1" g="1" b="1" />
				</FontString>
			</Layer>
		</Layers>
		<Frames>
		
			<Button name="$parent_classIcon">
				<Size><AbsDimension x="16" y="16"/></Size>
				<Anchors><Anchor point="TOPLEFT" relativeTo="$parent" ><Offset><AbsDimension x="20" y="2"/></Offset></Anchor></Anchors>
				<NormalTexture file="Interface\Icons\inv_misc_questionmark"/>
			</Button>

			<Button name="$parent_whisper" inherits="OptionsButtonTemplate" text="私聊">
				<Size><AbsDimension x="40" y="25" /></Size>
				<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="570" y="7"/></Offset></Anchor></Anchors>
				<Scripts>
					<OnClick> 
						Puggle_SendWhisper(self)
					</OnClick>
				</Scripts>
			</Button>

			<Button name="$parent_requestWho" inherits="OptionsButtonTemplate" text="查">
				<Size><AbsDimension x="40" y="25" /></Size>
				<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="-5" y="7"/></Offset></Anchor></Anchors>
				<Scripts>
					<OnClick> 
						self:Disable()
						Puggle_requestWhoClicked(self)
					</OnClick>
				</Scripts>
			</Button>

		</Frames> 
		<Scripts>
			<OnEnter>
				Puggle_ShowTooltip(self)
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>					
		</Scripts>
	</Frame>
	
	
	<Frame name="Puggle_EditTagsTemplate" virtual="true" hidden="true">
	
		<Size><AbsDimension x="100" y="100"/></Size>
		<Anchors><Anchor point="TOPLEFT"/></Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<FontString name="$parent_instCode" inherits="GameFontNormal" text="Code">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="0" y="-5" /></Anchor></Anchors>
					<Color a="1" r="1" g="1" b="1" />
				</FontString>
				<FontString name="$parent_instName2" inherits="GameFontNormal" text="Code" hidden="true">
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="60" y="-5" /></Anchor></Anchors>
					<Color a="1" r="1" g="1" b="1" />
				</FontString>
			</Layer>
		</Layers>
		<Frames>
				<CheckButton name="$parent_pick"	parentkey="MyCheckButton" text="显示" 			inherits="UICheckButtonTemplate" >
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="40" y="5" /></Anchor></Anchors>
					<Scripts>
						<OnClick>
							Puggle_TogglePickInstance(self)
						</OnClick>
					</Scripts>						
				</CheckButton>			

				<EditBox name="$parent_instName"  autoFocus="false" multiLine="false" >
					<Size x="155" y="48" />
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="120" y="15" /></Anchor></Anchors>
					<Layers>
						<Layer level="BACKGROUND">
							<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
								<Size x="20" y="45" />
								<Anchors><Anchor point="TOPLEFT"><Offset x="-10" y="0" /></Anchor>
								</Anchors>
								<TexCoords left="0" right="0.1" top="0" bottom="1.0"/>
							</Texture>
							<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
								<Size x="125" y="45" />
								<Anchors><Anchor point="TOPLEFT"><Offset x="10" y="0" /></Anchor>
								</Anchors>
								<TexCoords left="0.1" right="0.9" top="0" bottom="1.0"/>
							</Texture>
							<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Right">
								<Size x="20" y="45" />
								<Anchors><Anchor point="TOPRIGHT"><Offset x="0" y="0" /></Anchor></Anchors>
								<TexCoords left="0.9" right="1" top="0" bottom="1.0"/>
							</Texture>
							
						</Layer>
					</Layers>

					<Scripts>
						<OnEditFocusLost>
							Puggle_ValidateInstName(self)
						</OnEditFocusLost>
					</Scripts>
					<FontString inherits="ChatFontNormal" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="6" y="-5" /></Anchor></Anchors>
					</FontString>
				</EditBox>

				<EditBox name="$parent_instTags"  autoFocus="false" multiLine="false" >
					<Size x="340" y="48" />
					<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="295" y="15" /></Anchor></Anchors>
					<Layers>
						<Layer level="BACKGROUND">
							<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
								<Size x="20" y="45" />
								<Anchors><Anchor point="TOPLEFT"><Offset x="-10" y="0" /></Anchor>
								</Anchors>
								<TexCoords left="0" right="0.1" top="0" bottom="1.0"/>
							</Texture>
							<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
								<Size x="320" y="45" />
								<Anchors><Anchor point="TOPLEFT"><Offset x="10" y="0" /></Anchor>
								</Anchors>
								<TexCoords left="0.1" right="0.9" top="0" bottom="1.0"/>
							</Texture>
							<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Right">
								<Size x="20" y="45" />
								<Anchors><Anchor point="TOPRIGHT"><Offset x="0" y="0" /></Anchor></Anchors>
								<TexCoords left="0.9" right="1" top="0" bottom="1.0"/>
							</Texture>
							
						</Layer>
					</Layers>

					<Scripts>
						<OnEditFocusLost>
							Puggle_ValidateInstTags(self)
						</OnEditFocusLost>
					</Scripts>
					<FontString inherits="ChatFontNormal" >
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parent"><Offset x="6" y="-5" /></Anchor></Anchors>
					</FontString>
				</EditBox>

			</Frames> 
	</Frame>
	
	
	
	
   	<Button name="Puggle_MinimapButton" parent="Minimap" enableMouse="true" movable="true" hidden="false">
		<Size>
			<AbsDimension x="33" y="33"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="Puggle_MinimapButton_Icon" file="Interface\Icons\spell_holy_prayerofspirit">
					<Size>
						<AbsDimension x="21" y="21"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="7" y="-6"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture file="Interface\Minimap\MiniMap-TrackingBorder">
					<Size>
						<AbsDimension x="56" y="56"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="Puggle_MinimapButton_DraggingFrame" hidden="true">
				<Scripts>
					<OnUpdate>
						Puggle_MinimapButton_DraggingFrame_OnUpdate()
					</OnUpdate>
				</Scripts>
			</Frame>
		</Frames>
		<HighlightTexture alphaMode="ADD" file="Interface\Minimap\UI-Minimap-ZoomButton-Highlight"/>
		<Scripts>
			<OnLoad>
				self:RegisterForClicks("LeftButtonUp","RightButtonUp")
				self:RegisterForDrag("LeftButton","RightButton")
			</OnLoad>
			<OnDragStart>
				self:LockHighlight()
				Puggle_MinimapButton_DraggingFrame:Show()
			</OnDragStart>
			<OnDragStop>
				self:UnlockHighlight()
				Puggle_MinimapButton_DraggingFrame:Hide()
			</OnDragStop>
			<OnClick>
				Puggle_MinimapButton_OnClick()
			</OnClick>
			<OnUpdate>
				Puggle_OnUpdate();
			</OnUpdate>
		</Scripts>
	</Button>
</Ui>		